

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Acquisition Module &mdash; CUED DataLogger 0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="CUED DataLogger 0 documentation" href="index.html"/>
        <link rel="up" title="API Reference" href="api_reference.html"/>
        <link rel="next" title="Analysis Module" href="analysis_module.html"/>
        <link rel="prev" title="Universal Components" href="universal_components.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> CUED DataLogger
          

          
          </a>

          
            
            
              <div class="version">
                0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="api_reference.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="infrastructure.html">Infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="universal_components.html">Universal Components</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Acquisition Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#recorder-class">Recorder Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#window-layout">Window Layout</a></li>
<li class="toctree-l3"><a class="reference internal" href="#window-function">Window Function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#widgets">Widgets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="analysis_module.html">Analysis Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="addons.html">Addons</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">CUED DataLogger</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="api_reference.html">API Reference</a> &raquo;</li>
      
    <li>Acquisition Module</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/acquisition_module.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="acquisition-module">
<h1>Acquisition Module<a class="headerlink" href="#acquisition-module" title="Permalink to this headline">¶</a></h1>
<div class="section" id="recorder-class">
<h2>Recorder Class<a class="headerlink" href="#recorder-class" title="Permalink to this headline">¶</a></h2>
<p>Two modules are created to handle data acquisition from different types of hardware:
<cite>myRecorder</cite> to handle data from soundcards, and <cite>NIRecorder</cite> to handle data from National Instruments.
Both modules contain a class named <strong>Recorder</strong> derived from the abstract class <strong>RecorderParent</strong> from <cite>RecorderParent</cite> module which provides methods for storing data acquired.</p>
<p>The import convention of the module is <strong>mR</strong> for <cite>myRecorder</cite> and <strong>NIR</strong> for <cite>NIRecorder</cite>.</p>
<p><strong>RecorderParent</strong> contains methods to initialise a circular buffer,
initialise a recording array, and initialise a trigger.
<strong>Recorder</strong> store data acquired from its stream using methods of <strong>RecorderParent</strong>
as part of its callback routine, such as writing to buffer, writing to recording array, or checking for trigger.</p>
<p>The <strong>Recorder</strong> is written in such a way that it could be used in a python console.
Thus, it is not restricted to be used in the GUI only, but can be used as part of a script.</p>
<p>The <strong>Recorder</strong> class will only output _**raw data**_. Any kind of data processing is done outside of the class.</p>
<p>Any new <strong>Recorder</strong> or equivalent class can be implemented by deriving from the <strong>RecorderParent</strong>, and re-implement the required functions.</p>
</div>
<div class="section" id="window-layout">
<h2>Window Layout<a class="headerlink" href="#window-layout" title="Permalink to this headline">¶</a></h2>
<p>The acquisition window consists entirely of one main <strong>QSplitter</strong>,
in which more <strong>QSplitters**(namely left, middle, and right) are nested within in.
The main splitter is oriented horizontally, while the nested splitters are oriented vertically.
The _Widgets_ written separately as a class are then added to the nested **QSplitters</strong>.</p>
<p>This produces a resizable 'panel' for each _Widget_.
The good thing about this implementation is some _Widget_ can be hidden away from the user through the code.</p>
</div>
<div class="section" id="window-function">
<h2>Window Function<a class="headerlink" href="#window-function" title="Permalink to this headline">¶</a></h2>
<p>The window acts as a central hub to connect the widgets together.
This is where most slots and signals are connected, meaning most callback functions are implemented here.
The window also holds the variables for plotting the processed data from the Recorder classes
(i.e. time series data, DFT data, and channel levels).
A window without any extra _Widget_ added to it would consist only the data plots within the QSplitters,
and would technically function.</p>
<p>The window contains important variables such as:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt><strong>Recorder</strong></dt>
<dd><ul class="first last">
<li>_playing_ - indicate whether the stream is playing</li>
<li>_rec_             - Holds the recorder object</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Plot Data</strong></dt>
<dd><ul class="first last">
<li>_timedata_        - Time vector for plotting</li>
<li>_freqdata_        - Frequency vector for plotting</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Plot Colourmaps</strong></dt>
<dd><ul class="first last">
<li>_plot_colourmap_  - Colourmap for plotting different channel</li>
<li>_level_colourmap_ - Colourmap for indicating channel levels</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Channel Set</strong></dt>
<dd><ul class="first last">
<li>_live_chanset_        - ChannelSet for holding metadata</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Time + FFT Plots</strong></dt>
<dd><ul class="first last">
<li>_plotlines_               - Holds the lines of time + FFT plots</li>
<li>_plot_xoffset_    - Indicate the x offsets of each plot line</li>
<li>_plot_yoffset_    - Indicate the y offsets of each plot line</li>
<li>_plot_colours_    - Indicate the colours of each plot line</li>
<li>_def_colours_             - Holds the default colours of each plot line</li>
<li>_sig_hold_                - Indicate whether to 'freeze' a signal plot</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Channel Level Plots</strong></dt>
<dd><ul class="first last">
<li>_peakplots_               - Holds all the peak plots of each channel</li>
<li>_peak_trace_              - Indicate the value of each trace of the peak of each channel</li>
<li>_peak_decays_             - Indicate the level of decay of each trace</li>
<li>_trace_counter_   - Indicate counter of each trace before it decays</li>
<li>_trace_countlimit_- Maximum amount of count before the trace decays</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="widgets">
<h2>Widgets<a class="headerlink" href="#widgets" title="Permalink to this headline">¶</a></h2>
<p>All _Widgets_ except <cite>PlotWidgets</cite> from <cite>pyqtgraph</cite> are reimplemented as a class of its own.
They are derived from the abstract class <strong>BaseWidget</strong>
which re-implement function for styling and provide a template for self-written _Widgets_.
The construction of the UI components is implemented under <cite>initUI()</cite> method.
No callback functions are done here, unless the callback only affect components within the _Widget_.</p>
<ul class="simple">
<li><strong>ChanToggleUI</strong>      - Toggling the plot of the channels</li>
<li><strong>ChanConfigUI</strong>      - Configure the plot of the channels + metadata</li>
<li><strong>DevConfigUI</strong>       - Configure the recorder</li>
<li><strong>StatusUI</strong>          - Display status and some buttons</li>
<li><strong>RecUI</strong>                     - Record data</li>
<li><strong>AdvUI</strong>                     - Advance channel toggling</li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="analysis_module.html" class="btn btn-neutral float-right" title="Analysis Module" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="universal_components.html" class="btn btn-neutral" title="Universal Components" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Theo Brown, En Yi Tee.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>